---
layout: post
title: Mysql-数据库常问知识点总结(五)
categories: 数据库相关
description: Mysql-数据库常问知识点总结(五)
keywords: 数据库
---
### redis的事务

Redis 事务允许一组命令在单一步骤中执行。 

事务有两个属性，说明如下：

事务是一个单独的隔离操作： 事务中的所有命令都会序列化、 按顺序地执行。 事务在执行的过程中， 不会被其他客户端发送来的命令请求所打断。

Redis 事务是原子的。 原子意味着要么所有的命令都执行， 要么都不执行；

一个事务从开始到执行会经历以下三个阶段：

- 开始事务
- 命令入队
- 执行事务

### redis的使用场景有哪些？

- 1.取最新 N 个数据的操作
- 2.排行榜应用,取 TOP N 操作
- 3.需要精准设定过期时间的应用
- 4.计数器应用
- 5.uniq 操作,获取某段时间所有数据排重值
- 6.Pub/Sub 构建实时消息系统
- 7.构建队列系统
- 8.缓存

### redis 默认端口， 默认过期时间， Value 最多可以容纳的数据长度？ 

- 默认端口： 6379
- 默认过期时间： 可以说永不过期， 一般情况下， 当配置中开启了超出最大内存限制就写磁盘的话， 那么没有设置过期时间的 key可能会被写到磁盘上。 假如没设置， 那么 REDIS 将使用 LRU 机制， 将内存中的老数据删除， 并写入新数据。
- Value 最多可以容纳的数据长度是： 512M。

### sqlserver， MySQL ， Oracle http， redis， https 默认端口号？

- sqlserver： 1433
- MySQL： 3306
- Oracle ： 1521
- http： 80
- https： 443
- redis： 6379 

### redis 缓存命中率计算？ 

Redis 提供了 INFO 这个命令， 能够随时监控服务器的状态， 只用 telnet 到对应服务器的端口， 执行命令即可：
telnet localhost 6379 info
在输出的信息里面有这几项和缓存的状态比较有关系：

- keyspace_hits:14414110
- keyspace_misses:3228654
- used_memory:433264648
- expired_keys:1333536
- evicted_keys:1547380

通过计算 hits 和 miss， 我们可以得到缓存的命中率： 14414110/ (14414110 + 3228654) = 81% ， 一个缓存失效机制， 和过期时间设计良好的系统， 命中率可以做到 95%以上 

### redis有多少个库？

**Redis一个实例下有16个库**

